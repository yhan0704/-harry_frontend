{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/mod4/harryproject/harry-potter-mod4proj-front-end/harry-project-client/src/components/SpellCard.js\";\nimport React, { Component } from 'react';\nexport default class SpellCard extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.addToFavorites = e => {\n      let spell = this.props.currentUser.spells.filter(spell => spell.id === parseInt(e.currentTarget.dataset.id, 10));\n\n      if (spell.length === 0) {\n        let objectConfig = {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            user_id: e.currentTarget.dataset.userId,\n            spell_id: e.currentTarget.dataset.id\n          })\n        };\n        fetch('http://127.0.0.1:3000/favorite_spells', objectConfig).then(res => res.json()).then(user => this.props.updateUsers(user));\n      }\n    };\n\n    this.deleteSpell = e => {\n      let fav_spell = this.props.fav_spells.find(spell => spell.spell_id === parseInt(e.currentTarget.dataset.id, 10));\n      let objectConfig = {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user_id: e.currentTarget.dataset.userId\n        })\n      };\n      fetch(`http://127.0.0.1:3000/favorite_spells/${fav_spell.id}`, objectConfig).then(res => res.json()).then(user => this.props.updateUsers(user));\n    };\n  }\n\n  render() {\n    // console.log(this.props.currentUser)\n    // console.log(this.props.spell.id)\n    let _this$props$spell = this.props.spell,\n        name = _this$props$spell.name,\n        category = _this$props$spell.category,\n        effect = _this$props$spell.effect;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"ui inverted puple table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Category\"), React.createElement(\"th\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Effect\"), React.createElement(\"th\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Favorite ? \"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, name), React.createElement(\"td\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, category), React.createElement(\"td\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, effect), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, this.props.delete ? React.createElement(\"button\", {\n      \"data-id\": this.props.spell.id,\n      \"data-user-id\": this.props.currentUser.id,\n      onClick: this.deleteSpell,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Delete\") : React.createElement(\"button\", {\n      \"data-id\": this.props.spell.id,\n      \"data-user-id\": this.props.currentUser.id,\n      onClick: this.addToFavorites,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Add to Favorite\"))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/flatironschool/mod4/harryproject/harry-potter-mod4proj-front-end/harry-project-client/src/components/SpellCard.js"],"names":["React","Component","SpellCard","addToFavorites","e","spell","props","currentUser","spells","filter","id","parseInt","currentTarget","dataset","length","objectConfig","method","headers","body","JSON","stringify","user_id","userId","spell_id","fetch","then","res","json","user","updateUsers","deleteSpell","fav_spell","fav_spells","find","render","name","category","effect","delete"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nexport default class SpellCard extends Component{\n    \n    addToFavorites = (e) => {\n        let spell =  this.props.currentUser.spells.filter(spell => spell.id === parseInt(e.currentTarget.dataset.id,10))\n        if(spell.length === 0 ){\n        let objectConfig = {\n            method: 'POST',\n            headers: {\n               'Content-Type':'application/json'\n            }, \n            body: JSON.stringify({\n             user_id: e.currentTarget.dataset.userId,\n             spell_id: e.currentTarget.dataset.id\n            })\n        }\n            fetch('http://127.0.0.1:3000/favorite_spells', objectConfig)\n            .then(res => res.json())\n            .then(user => this.props.updateUsers(user))\n        }\n        }\n\n        deleteSpell=(e)=>{\n            let fav_spell = this.props.fav_spells.find(spell => spell.spell_id === parseInt(e.currentTarget.dataset.id, 10))\n          \n            let objectConfig = {\n                method: 'DELETE',\n                headers: {\n                   'Content-Type':'application/json'\n                }, \n                body: JSON.stringify({\n                 user_id: e.currentTarget.dataset.userId\n                })\n              }\n                fetch(`http://127.0.0.1:3000/favorite_spells/${fav_spell.id}`, objectConfig)\n                .then(res => res.json())\n                .then(user => this.props.updateUsers(user))\n        }\n    render() {\n        // console.log(this.props.currentUser)\n        // console.log(this.props.spell.id)\n        let {name, category, effect} = this.props.spell\n        return (\n            <div>\n                <table className=\"ui inverted puple table\">\n                <thead>\n                    <tr>\n                        <th align=\"left\">Name</th>\n                        <th align=\"left\">Category</th>\n                        <th align=\"left\">Effect</th>\n                        <th align=\"left\">Favorite ? </th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                        <td align=\"left\">{name}</td>\n                        <td align=\"left\">{category}</td>\n                        <td align=\"left\">{effect}</td>\n                        <td>\n                            {\n                                this.props.delete ? <button data-id={this.props.spell.id} data-user-id={this.props.currentUser.id} onClick={this.deleteSpell}>Delete</button> :\n                                <button data-id={this.props.spell.id} data-user-id={this.props.currentUser.id} onClick={this.addToFavorites}>Add to Favorite</button>\n                            \n                            }\n                        </td>\n                    </tr>\n                    </tbody>\n                    \n                </table>\n                \n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}