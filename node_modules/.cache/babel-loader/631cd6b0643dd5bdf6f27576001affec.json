{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/mod4/harryproject/harry-potter-mod4proj-front-end/harry-project-client/src/components/CharacterCard.js\";\nimport React, { Component } from 'react';\nexport default class CharacterCard extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.addToFavorites = e => {\n      let user = this.props.currentUser.characters.filter(char => char.id === parseInt(e.currentTarget.dataset.id, 10)); //   debugger\n\n      if (user.length === 0) {\n        let objectConfig = {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            user_id: e.currentTarget.dataset.userId,\n            character_id: e.currentTarget.dataset.id\n          })\n        };\n        fetch('http://127.0.0.1:3000/favorite_characters', objectConfig).then(res => res.json()).then(user => this.props.updateUsers(user));\n      } else {\n        window.alert(\"You already added this Wizard\");\n      }\n    };\n\n    this.deleteCharacter = e => {\n      // debugger\n      let fav_character = this.props.fav_characters.find(char => char.character_id === parseInt(e.currentTarget.dataset.id, 10));\n      let objectConfig = {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user_id: e.currentTarget.dataset.userId\n        })\n      };\n      fetch(`http://127.0.0.1:3000/favorite_characters/${fav_character.id}`, objectConfig).then(res => res.json()).then(user => this.props.updateUsers(user));\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"ui cards\",\n      id: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"cards\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"pic\",\n      className: \"characterImage\",\n      width: 280,\n      height: 340,\n      src: this.props.character.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.props.character.name), React.createElement(\"div\", {\n      className: \"right floated\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Date Of Birth: \", this.props.character.dateBirth), React.createElement(\"div\", {\n      className: \"description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Actor: \", this.props.character.actor)), React.createElement(\"div\", {\n      className: \"extra content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"meta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, this.props.delete ? React.createElement(\"button\", {\n      \"data-id\": this.props.character.id,\n      \"data-user-id\": this.props.currentUser.id,\n      onClick: this.deleteCharacter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Delete\") : React.createElement(\"button\", {\n      \"data-id\": this.props.character.id,\n      \"data-user-id\": this.props.currentUser.id,\n      onClick: this.addToFavorites,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Add to My Wizards\"))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/flatironschool/mod4/harryproject/harry-potter-mod4proj-front-end/harry-project-client/src/components/CharacterCard.js"],"names":["React","Component","CharacterCard","addToFavorites","e","user","props","currentUser","characters","filter","char","id","parseInt","currentTarget","dataset","length","objectConfig","method","headers","body","JSON","stringify","user_id","userId","character_id","fetch","then","res","json","updateUsers","window","alert","deleteCharacter","fav_character","fav_characters","find","render","character","image","name","dateBirth","actor","delete"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nexport default class CharacterCard extends Component{\n\n    addToFavorites = (e) => {\n       \n      let user =  this.props.currentUser.characters.filter(char => char.id === parseInt(e.currentTarget.dataset.id,10))\n    //   debugger\n        if(user.length === 0){\n        let objectConfig = {\n            method: 'POST',\n            headers: {\n               'Content-Type':'application/json'\n            }, \n            body: JSON.stringify({\n             user_id: e.currentTarget.dataset.userId,\n             character_id: e.currentTarget.dataset.id\n            })\n        }\n            fetch('http://127.0.0.1:3000/favorite_characters', objectConfig)\n            .then(res => res.json())\n            .then(user => this.props.updateUsers(user))\n        }else{\n            window.alert(\"You already added this Wizard\")\n        }\n    }\n    \n    deleteCharacter=(e)=>{\n        // debugger\n        let fav_character = this.props.fav_characters.find(char => char.character_id === parseInt(e.currentTarget.dataset.id, 10))\n          \n        let objectConfig = {\n            method: 'DELETE',\n            headers: {\n               'Content-Type':'application/json'\n            }, \n            body: JSON.stringify({\n             user_id: e.currentTarget.dataset.userId\n            })\n          }\n            fetch(`http://127.0.0.1:3000/favorite_characters/${fav_character.id}`, objectConfig)\n            .then(res => res.json())\n            .then(user => this.props.updateUsers(user))\n    }\n\n    render() {\n     \n        return (\n            <div className=\"ui cards\" id=\"image\">\n                <span></span>\n                <div id= 'cards'>\n                <div className=\"card\" >\n                    <div className=\"image\">\n                    <img alt=\"pic\" className=\"characterImage\" width={280} height={340} src={this.props.character.image} />\n                    </div>\n                    <div className=\"content\">\n                    <div className=\"header\">{this.props.character.name}</div>\n                    <div className=\"right floated\">\n                        Date Of Birth: {this.props.character.dateBirth}\n                    </div>\n                    <div className=\"description\">\n                        Actor: {this.props.character.actor}\n                    </div>\n                    </div>\n                    <div className=\"extra content\">\n                    <div className=\"meta\">\n                        {\n                            this.props.delete ? <button data-id={this.props.character.id} data-user-id={this.props.currentUser.id} onClick={this.deleteCharacter} >Delete</button>\n                        : <button data-id={this.props.character.id} data-user-id={this.props.currentUser.id} onClick={this.addToFavorites}>Add to My Wizards</button>\n                        }\n                    </div>\n                    </div>\n                </div>\n               </div>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}