{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/mod4/harryproject/Harry Potter Project/harry-potter-mod4proj-front-end/harry-project-client/src/components/SpellCard.js\";\nimport React, { Component } from 'react';\nexport default class SpellCard extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.addToFavorites = e => {\n      let spell = this.props.currentUser.spells.filter(spell => spell.id === parseInt(e.currentTarget.dataset.id, 10));\n\n      if (spell.length === 0) {\n        window.alert(\"spell added!\");\n        let objectConfig = {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            user_id: e.currentTarget.dataset.userId,\n            spell_id: e.currentTarget.dataset.id\n          })\n        };\n        fetch('http://127.0.0.1:3000/favorite_spells', objectConfig).then(res => res.json()).then(user => this.props.updateUsers(user));\n      } else {\n        window.alert(\"You already added this spell\");\n      }\n    };\n\n    this.deleteSpell = e => {\n      let fav_spell = this.props.fav_spells.find(spell => spell.spell_id === parseInt(e.currentTarget.dataset.id, 10));\n      let objectConfig = {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user_id: e.currentTarget.dataset.userId\n        })\n      };\n      fetch(`http://127.0.0.1:3000/favorite_spells/${fav_spell.id}`, objectConfig).then(res => res.json()).then(user => this.props.updateUsers(user));\n    };\n  }\n\n  render() {\n    let _this$props$spell = this.props.spell,\n        name = _this$props$spell.name,\n        category = _this$props$spell.category,\n        effect = _this$props$spell.effect;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"ui inverted puple table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Category\"), React.createElement(\"th\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Effect\"), React.createElement(\"th\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Favorite ? \"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, name), React.createElement(\"td\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, category), React.createElement(\"td\", {\n      align: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, effect), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, this.props.delete ? React.createElement(\"button\", {\n      \"data-id\": this.props.spell.id,\n      \"data-user-id\": this.props.currentUser.id,\n      onClick: this.deleteSpell,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Delete\") : React.createElement(\"button\", {\n      \"data-id\": this.props.spell.id,\n      \"data-user-id\": this.props.currentUser.id,\n      onClick: this.addToFavorites,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Add to Favorite\"))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/flatironschool/mod4/harryproject/Harry Potter Project/harry-potter-mod4proj-front-end/harry-project-client/src/components/SpellCard.js"],"names":["React","Component","SpellCard","addToFavorites","e","spell","props","currentUser","spells","filter","id","parseInt","currentTarget","dataset","length","window","alert","objectConfig","method","headers","body","JSON","stringify","user_id","userId","spell_id","fetch","then","res","json","user","updateUsers","deleteSpell","fav_spell","fav_spells","find","render","name","category","effect","delete"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nexport default class SpellCard extends Component{\n    \n    addToFavorites = (e) => {\n\n        let spell =  this.props.currentUser.spells.filter(spell => spell.id === parseInt(e.currentTarget.dataset.id,10))\n\n        if(spell.length === 0 ){\n\n            window.alert(\"spell added!\")\n\n        let objectConfig = {\n            method: 'POST',\n            headers: {\n               'Content-Type':'application/json'\n            }, \n            body: JSON.stringify({\n             user_id: e.currentTarget.dataset.userId,\n             spell_id: e.currentTarget.dataset.id\n            })\n        }\n            fetch('http://127.0.0.1:3000/favorite_spells', objectConfig)\n            .then(res => res.json())\n            .then(user => this.props.updateUsers(user))\n        }else{\n            window.alert(\"You already added this spell\")\n        }\n    }\n\n        deleteSpell=(e)=>{\n\n            let fav_spell = this.props.fav_spells.find(spell => spell.spell_id === parseInt(e.currentTarget.dataset.id, 10))\n          \n            let objectConfig = {\n                method: 'DELETE',\n                headers: {\n                   'Content-Type':'application/json'\n                }, \n                body: JSON.stringify({\n                 user_id: e.currentTarget.dataset.userId\n                })\n              }\n                fetch(`http://127.0.0.1:3000/favorite_spells/${fav_spell.id}`, objectConfig)\n                .then(res => res.json())\n                .then(user => this.props.updateUsers(user))\n        }\n\n    render() {\n\n        let {name, category, effect} = this.props.spell\n        return (\n            <div>\n                <table className=\"ui inverted puple table\">\n                <thead>\n                    <tr>\n                        <th align=\"left\">Name</th>\n                        <th align=\"left\">Category</th>\n                        <th align=\"left\">Effect</th>\n                        <th align=\"left\">Favorite ? </th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr>\n                        <td align=\"left\">{name}</td>\n                        <td align=\"left\">{category}</td>\n                        <td align=\"left\">{effect}</td>\n                        <td>\n                            {\n                                this.props.delete ? <button data-id={this.props.spell.id} data-user-id={this.props.currentUser.id} onClick={this.deleteSpell}>Delete</button> :\n                                <button data-id={this.props.spell.id} data-user-id={this.props.currentUser.id} onClick={this.addToFavorites}>Add to Favorite</button>\n                            \n                            }\n                        </td>\n                    </tr>\n                    </tbody>\n                    \n                </table>\n                \n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}